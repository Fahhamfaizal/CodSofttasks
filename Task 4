import pandas as pd
from sklearn.metrics.pairwise import cosine_similarity

# Sample user-movie ratings data
data = {
    'User': ['User1', 'User2', 'User3', 'User4', 'User5'],
    'Movie1': [4, 5, 0, 0, 2],
    'Movie2': [0, 3, 4, 0, 5],
    'Movie3': [2, 0, 0, 4, 0],
    'Movie4': [0, 4, 5, 0, 3],
}

# Create a DataFrame
df = pd.DataFrame(data)

# Calculate cosine similarity between users
user_similarity = cosine_similarity(df.iloc[:, 1:])

# Define a target user
target_user_index = 0

# Find users similar to the target user
similar_users = sorted(list(enumerate(user_similarity[target_user_index])), key=lambda x: x[1], reverse=True)

# Recommend movies to the target user
recommended_movies = []
for user, similarity_score in similar_users:
    if user == target_user_index:
        continue  # Skip the target user
    for movie in df.columns[1:]:
        if df.at[user, movie] > 3 and df.at[target_user_index, movie] == 0:
            recommended_movies.append(movie)

# Print recommended movies
print("Recommended movies for User1:")
print(recommended_movies)
